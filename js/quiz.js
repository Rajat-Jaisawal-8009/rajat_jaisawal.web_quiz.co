const questions = [{
  "que": "What is the name of the era to which Ramayana belongs ? ",
  "a": "Treta-Yuga",
  "b": "Satya-Yuga",
  "c": "Dvapara-Yuga",
  "d": "Kali-Yuga",
  "anomynuos": 3,
  "anonymous": 1,
  "anomynous": 2,
  "anonynous": 4,
  "anonymuos": ""
},

{
  "que": "What was the name of Lord Ram's father ?",
  "a": "Shaalishuka",
  "b": "Brhadratha",
  "c": "Rajadhiraja",
  "d": "Dashratha ",
  "anomynuos": 1,
  "anonymous": 4,
  "anomynous": 2,
  "anonynous": 3,
  "anonymuos": ""
},

{
  "que": "Whose incarnation is Lakshman ji considered ?",
  "a": " Lord Vishnu",
  "b": " Lord Shiva",
  "c": " Brahma ",
  "d": "Shesh Naag",
  "anomynuos": 2,
  "anonymous": 4,
  "anomynous": 1,
  "anonynous": 3,
  "anonymuos": "rajat"
},


{
  "que": " What is the name of the son of Ram devotee Hanuman ji ?",
  "a": " Ghatotkachha ",
  "b": " Sugriva ",
  "c": " Makardhwaj ",
  "d": " Angad ",
  "anomynuos": 2,
  "anonymous": 3,
  "anomynous": 4,
  "anonynous": 1,
  "anonymuos": ""
},





{
  "que": "From whom did Kaikeyi get the inspiration to send Ram ji to exile ?",
  "a": "Kaikasi",
  "b": "Mandodari",
  "c": "Manthara",
  "d": "Urmila",
  "anomynuos": 1,
  "anonymous": 3,
  "anomynous": 2,
  "anonynous": 4,
  "anonymuos": ""
},


{
  "que": "How many brothers did Shri Ram have ?",
  "a": "3",
  "b": "4",
  "c": "2",
  "d": "5",
  "anomynuos": 1,
  "anonymous": 2,
  "anomynous": 3,
  "anonynous": 4,
  "anonymuos": ""
},


{
  "que": "How many wives did King Dasharatha have ?",
  "a": "3",
  "b": "4",
  "c": "2",
  "d": "6",
  "anomynuos": 3,
  "anonymous": 1,
  "anomynous": 2,
  "anonynous": 4,
  "anonymuos": ""
},


{
  "que": "How many sons did mother Kaushalya have ?",
  "a": "1",
  "b": "2",
  "c": "3",
  "d": "4",
  "anomynuos": 2,
  "anonymous": 1,
  "anomynous": 3,
  "anonynous": 4,
  "anonymuos": ""
},


{
  "que": "What is the name of mother Kaushalya's son ?",
  "a": "Laxman Ji",
  "b": "Bharat Ji",
  "c": "Ram Ji",
  "d": "Shatrudhan Ji",
  "anomynuos": 1,
  "anonymous": 3,
  "anomynous": 2,
  "anonynous": 4,
  "anonymuos": ""
},


{
  "que": "How many sons did mother Kaikeyi have ?",
  "a": "1",
  "b": "2",
  "c": "3",
  "d": "4",
  "anomynuos": 2,
  "anonymous": 1,
  "anomynous": 3,
  "anonynous": 4,
  "anonymuos": ""
},


{
  "que": "What is the name of mother Kaikeyi's son ?",
  "a": "Ram Ji",
  "b": "Shatrudhan Ji",
  "c": "Laxman Ji",
  "d": "Bharat Ji",
  "anomynuos": 1,
  "anonymous": 4,
  "anomynous": 2,
  "anonynous": 3,
  "anonymuos": ""
},

{
  "que": "How many sons did mother Sumitra have ?",
  "a": "1",
  "b": "2",
  "c": "3",
  "d": "4",
  "anomynuos": 1,
  "anonymous": 2,
  "anomynous": 3,
  "anonynous": 4,
  "anonymuos": ""
},

{
  "que": "What are the names of mother Sumitra's sons ?",
  "a": "Bharat ji, Shatrudhan ji",
  "b": "Ram ji, Bharat ji",
  "c": "Ram ji, Laxman ji",
  "d": "Shatrudhan ji, Lakshman ji",
  "anomynuos": 3,
  "anonymous": 4,
  "anomynous": 1,
  "anonynous": 2,
  "anonymuos": ""
},

{
  "que": " Who freed Lakshman ji from the snake charmer ?",
  "a": "Jatayu",
  "b": "Sampaati",
  "c": "Garud Dev",
  "d": "Jamvant",
  "anomynuos": 4,
  "anonymous": 3,
  "anomynous": 2,
  "anonynous": 1,
  "anonymuos": ""
},

{
  "que": "Who advised Shri Ram ji to befriend Sugriva to rescue Sita from Lanka ?",
  "a": "Marich",
  "b": "Hanuman",
  "c": "Neel",
  "d": "Shabari",
  "anomynuos": 4,
  "anonymous": 2,
  "anomynous": 3,
  "anonynous": 1,
  "anonymuos": ""
},

{
  "que": "Shri Ram was ______ Ansavatar ?",
  "a": "Devraj Indra",
  "b": "Brahma ji",
  "c": "Vishnu ji",
  "d": "Surya",
  "anomynuos": 2,
  "anonymous": 3,
  "anomynous": 4,
  "anonynous": 1,
  "anonymuos": ""
},

{
  "que": " On which mountain was the city of Lanka located ?",
  "a": "Kailash",
  "b": "Sumeru",
  "c": "Trikuta",
  "d": "Gandhmadan",
  "anomynuos": 4,
  "anonymous": 3,
  "anomynous": 1,
  "anonynous": 2,
  "anonymuos": ""
},


{
  "que": " What was the name of Bharat ji's wife ?",
  "a": "Sucheta",
  "b": "Urmila",
  "c": "Shrutakirti",
  "d": "Mandvi",
  "anomynuos": 3,
  "anonymous": 4,
  "anomynous": 1,
  "anonynous": 2,
  "anonymuos": ""
},


{
  "que": "Who was the mother of Hanuman ji ?",
  "a": "Sulakshana",
  "b": "Anjani",
  "c": "Kritika",
  "d": "Ahalya",
  "anomynuos": 1,
  "anonymous": 2,
  "anomynous": 3,
  "anonynous": 4,
  "anonymuos": ""
},


{
  "que": "Who among these was Lakshman ji's wife ?",
  "a": "Urmila",
  "b": "Sulakshana",
  "c": "Mandvi",
  "d": "Srutakirti",
  "anomynuos": 2,
  "anonymous": 1,
  "anomynous": 3,
  "anonynous": 4,
  "anonymuos": ""
},


{
  "que": "Whose incarnation was Sita ji ?",
  "a": "Sati",
  "b": "Shakti",
  "c": "Saraswati ji",
  "d": "Lakshmi ji",
  "anomynuos": 3,
  "anonymous": 4,
  "anomynous": 2,
  "anonynous": 1,
  "anonymuos": ""
},


{
  "que": "At which place did Shri Ram stay for the longest time during his exile ?",
  "a": "on the beach",
  "b": "in Chitrakoot",
  "c": " in Bhardwaj's ashram",
  "d": " in kishkindha",
  "anomynuos": 3,
  "anonymous": 2,
  "anomynous": 4,
  "anonynous": 1,
  "anonymuos": ""
},


{
  "que": "From whose part was Hanuman ji born ? ",
  "a": "Kuber",
  "b": " Vayu dev",
  "c": "Dharm",
  "d": "Ashwini Kumar",
  "anomynuos": 1,
  "anonymous": 2,
  "anomynous": 3,
  "anonynous": 4,
  "anonymuos": ""
},


{
  "que": "Who was the father of Rambhakt Hanuman ji ?",
  "a": "Kesri",
  "b": "Hayagriva",
  "c": "Bali",
  "d": "Sugriva",
  "anomynuos": 3,
  "anonymous": 1,
  "anomynous": 4,
  "anonynous": 2,
  "anonymuos": ""
},


{
  "que": "Whose son was Lankapati Ravana ?",
  "a": "Pulastya",
  "b": "Vishrava",
  "c": "Ahiravan",
  "d": "Sumali",
  "anomynuos": 1,
  "anonymous": 2,
  "anomynous": 3,
  "anonynous": 4,
  "anonymuos": ""
},


{
  "que": "Where was Janak ji the king ?",
  "a": "Alkapuri",
  "b": "Kekay",
  "c": "Mithila",
  "d": "Ayodhya",
  "anomynuos": 1,
  "anonymous": 3,
  "anomynous": 2,
  "anonynous": 4,
  "anonymuos": ""
},


{
  "que": "Who informed Bharat about Shri Ram's return from exile ?",
  "a": "Vinat ji",
  "b": "Angad ji",
  "c": "Hanuman ji",
  "d": "Nal ji",
  "anomynuos": 2,
  "anonymous": 3,
  "anomynous": 4,
  "anonynous": 1,
  "anonymuos": ""
},

{
  "que": "Who was the father of Vanar Nal ?",
  "a": "Bali",
  "b": "May",
  "c": "Indra",
  "d": "Vishwakarma",
  "anomynuos": 3,
  "anonymous": 4,
  "anomynous": 2,
  "anonynous": 1,
  "anonymuos": ""
},


{
  "que": "Which deity did Shri Ram worship while building a bridge across the sea to go to Lanka ?",
  "a": "Vishnu ji",
  "b": "Shiva ji",
  "c": "Brahma ji",
  "d": "Varun ji",
  "anomynuos": 3,
  "anonymous": 2,
  "anomynous": 4,
  "anonynous": 1,
  "anonymuos": ""
},


{
  "que": "What was the condition of Sita ji's swayamvar ?",
  "a": "defeat the father",
  "b": "lifting the bow of Lord Shiva",
  "c": "Sita ji's choice",
  "d": "breaking shiva bow",
  "anomynuos": 1,
  "anonymous": 2,
  "anomynous": 4,
  "anonynous": 3,
  "anonymuos": ""
},


{
  "que": "Which of the following sages claimed the chastity of Sitaji ?",
  "a": "Valmiki ji",
  "b": "Vishwamitra ji",
  "c": "Bhardwaj ji",
  "d": "Parshuram ji",
  "anomynuos": 2,
  "anonymous": 1,
  "anomynous": 3,
  "anonynous": 4,
  "anonymuos": ""
}

];





var hitonsc, lerti;
var hitonec = lerti;
lerti = questions[2]["anonymuos"];
hitonsc = lerti;
let totle = questions.length;

const quesBoxh3 = document.getElementById("quesBoxh3");
const optionsInput = document.querySelectorAll(".options");

const printMinuts = document.getElementById('minuts-h');
const printSecond = document.getElementById('seconds-h');

const subject = "Ramayana";
const minutsValue = 30; // minuts change //
const secondValue = 60; // sec change //
let min = minutsValue;
let sec = 0; //  0 //


let index = Number(0);



// const searchQues = document.getElementById("goQues")
// searchQues.addEventListener("click", getQuesNum );
// searchQues.addEventListener("click", nextQues)


const loadQuestion = () => {


const data = questions[index];
quesBoxh3.innerText = `Q ${Number(index)+1} . ${data.que}`;


optionsInput[1].nextElementSibling.innerText = data.a;
optionsInput[2].nextElementSibling.innerText = data.b;
optionsInput[3].nextElementSibling.innerText = data.c;
optionsInput[4].nextElementSibling.innerText = data.d;

optionSelectIndex()

};

var right = 0,
wrong = 0;

let ans = [];
let wrongAns = [];


function assing() {
let studentValue = getAnswer();
ans[index] = studentValue;
};

const getAnswer = () => {
let result;
optionsInput.forEach((input) => {

  if (input.checked) {
    result = Number(input.value)
  }
})
return result;
};


const reset = () => {
optionsInput.forEach((input) => {
  input.checked = false;
})
};



(function () {
questions.forEach((value, i) => {

  var options = document.createElement("option");
  options.setAttribute("value", i)

  var optionText = document.createTextNode(`Q.${i+1}`)

  options.appendChild(optionText);

  document.getElementById("getQuesNum").appendChild(options)

})

})();

let fRNotDbc = 0;

function finelResult() {

if (fRNotDbc == 0) {
  fRNotDbc = 1;
  min = 0;
  sec = 0;


  for (let i = 0; i < questions.length; i++) {

    if (ans[i] == questions[i]["anonymous"]) {
      right++

    } else {
      wrongAns.push(i + 1)
      wrong++
    }
    console.log(right)
    console.log(wrong)
  }

}



};




function changeRightColor() {
optionsInput.forEach((getElement) => {
  if (getElement.value == questions[index]["anonymous"]) {
    let parents = getElement.parentElement;
    parents.classList.add("right-ans-bgcolor");
  }

  if (getElement.checked) {
    if (getElement.value == questions[index]["anonymous"]) {
      let parents = getElement.parentElement;
      parents.classList.add("right-ans-bgcolor");
    } else {
      let parents = getElement.parentElement;
      parents.classList.add("wrong-ans-bgcolor");
    }

  }

})
};



function removeRightColor() {
optionsInput.forEach((getElement) => {
  if (getElement.value == questions[index]["anonymous"]) {
    var parents = getElement.parentElement;
    parents.classList.remove("right-ans-bgcolor");
  }

  if (getElement.checked) {
    if (getElement.value == questions[index]["anonymous"]) {
      let parents = getElement.parentElement;
      parents.classList.remove("right-ans-bgcolor");
    } else {
      let parents = getElement.parentElement;
      parents.classList.remove("wrong-ans-bgcolor");
    }

  }

})
};


// function visibSubmitBtn(){
// if(index == questions.length-2){

// submitButton.classList.add("submit-btn-display");
// }}
let submitbuttonHide = 0;
let disabelTrue = 0;


const nextQues = () => {

removeRightColor();
optionSelectIndex();

// document.getElementById("getQuesNum").value = "";
const submitButton = document.getElementById("submitAtLast");

// Submit button display visibla//

if (index == questions.length - 2 && submitbuttonHide == 0) {
  submitButton.classList.add("submit-btn-display");
};




if (index < questions.length - 1) {
  index++
  console.log(index)
  // loadQuestion()

  //----------------------------------------------------

  for (var i = 0; i < questions.length; i++) {
    for (var x = 0; x < questions.length; x++) {
      if (index == x) {
        // optionsInput[4].checked = true
        optionsInput[ans[x] || 0].checked = true;

      } else if (index == questions.length) {
        reset()
      }
    }
  };

loadQuestion()
};


if (disabelTrue == 1) {
  optionsInput.forEach((options) => {
    if (options.checked) {
      options.disabled = false;
    } else {
      options.disabled = true;
    }
  })
}


};

const previousQues = () => {
removeRightColor();
optionSelectIndex();


const submitButton = document.getElementById("submitAtLast");

if (index <= questions.length - 1) {
  submitButton.classList.remove("submit-btn-display")
};

if (index > 0) {
  index--;

  // loadQuestion()

  for (var i = 0; i < questions.length; i++) {
    for (var x = 0; x < questions.length; x++) {
      if (index == x) {
        // optionsInput[4].checked = true
        optionsInput[ans[x] || 0].checked = true;
      } else if (index == questions.length) {
        reset()
      }

    }
  };
  loadQuestion();
};

  
if (disabelTrue == 1) {
  optionsInput.forEach((options) => {
    if (options.checked) {
      options.disabled = false;
    } else {
      options.disabled = true;
    }
  })
};


};


function getQuesNum() {

removeRightColor()
var selectvalue = document.getElementById("getQuesNum").value;
index = selectvalue;



if (index == questions.length - 1 && submitbuttonHide == 0) {
  document.getElementById("submitAtLast").classList.add("submit-btn-display");

} else {
  document.getElementById("submitAtLast").classList.remove("submit-btn-display");
};



for (var i = 0; i < questions.length; i++) {
  for (var x = 0; x < questions.length; x++) {
    if (index == x) {
      // optionsInput[4].checked = true
      optionsInput[ans[x] || 0].checked = true;

    } else if (index == questions.length) {
      reset()
    }
  }
};


if (disabelTrue == 1) {
  optionsInput.forEach((options) => {
    if (options.checked) {
      options.disabled = false;
    } else {
      options.disabled = true;
    }
  })
};

loadQuestion();
};


function optionSelectIndex() {
var selectvalue2 = document.getElementById("getQuesNum");
selectvalue2.selectedIndex = index;
};

// countDownQuiz Timing///
function countdown() {
if (sec === 0) {
  sec = secondValue;
  min--;
};

sec--;

if (min < 10) {
  printMinuts.innerHTML = "0" + min;
} else {
  printMinuts.innerHTML = min;
};

if (sec < 10) {
  printSecond.innerHTML = "0" + sec;
} else {
  printSecond.innerHTML = sec;
};

};


// startTimeDisply /// // for Start Timing

let startTimeMin = 1; 
let startTimeSec = 0; 
const startButton = document.getElementById("start-btn");
const startTimeDisply = document.getElementById("countDown4sec");

function countstartTime() {
if (startTimeSec === 0) {
  startTimeSec = 6; 
  startTimeMin--;
};

startTimeSec--;
startTimeDisply.innerHTML = startTimeSec; //print start in seccond//
console.log(startTimeSec)
};

const startQuizBtn = document.getElementById("welcome");
const displayques = document.getElementById("quesLoader"); // main question loader //



// for only onec call startButton //|| 
// function onecCallBtn() {
//   startButton.removeEventListener('click', startQuiz);
// }
startButton.addEventListener('click', startQuiz);
// startButton.addEventListener('click', onecCallBtn);



// startButton /// 
function startQuiz() {
studentname = document.getElementById("student-name").value.toUpperCase();

studentclass = document.getElementById("student-class").value;

timerDispVisb = document.getElementById("timer-displayId");



let docum = document.getElementById("password").value;

if (studentname.length > 20 || studentname === "" ||
  Number(studentname) === Number(studentname) ||
  studentname.includes("0") || studentname.includes("1") ||
  studentname.includes("2") || studentname.includes("3") ||
  studentname.includes("4") || studentname.includes("5") ||
  studentname.includes("6") || studentname.includes("7") ||
  studentname.includes("8") || studentname.includes("9")) {
  // console.log("Enter correct name")
  document.getElementById("start-btn").value = "Incorrect Name";
  document.getElementById("student-name").placeholder = "Please enter correct name ! (NaN) ";



} else if (studentclass === "" || studentclass < 4 || studentclass > 12) {
  // console.log("Enter correct class")

  document.getElementById("student-class").placeholder = "! Please enter Class 4 to 12  ";



} else if (docum === hitonsc) {

  document.getElementById('startingQuizTime').classList.add("starting-quiz-time-diplayVis");

  // for StartQuiz Timing

  const intervalStartQz = setInterval(() => {
    if (startTimeSec === 0 && startTimeMin === 0) {
      startTimeDisply.innerHTML = startTimeSec; //print 0 on start buttton//
      clearInterval(intervalStartQz)
      console.log(intervalStartQz)
    } else {
      countstartTime();

    }
  }, 1000); //har 1s calling


  //------------------------------------------

  setTimeout(() => {

    startQuizBtn.classList.add("welcomeDisplayNone");
    displayques.classList.add("quesDisplayVis");
    timerDispVisb.classList.add("timer-display-vis");
    document.getElementById("quesBoxh3").classList.add("quesBoxh3");
    loadQuestion();


  }, 6000); //har 1s calling



  //--------------------------------------------------------------


  //for QuizSubmit Timing
  const intervalQuiz = setInterval(() => {
    if (min === 0 && sec === 0) {

      document.getElementById('minuts-h').innerHTML = "0" + min;
      document.getElementById('seconds-h').innerHTML = "0" + sec;
      timerDispVisb.classList.remove("timer-display-vis");

      if (fRNotDbc == 0) {
        finelResult()
      }
      endQuiz();
      clearInterval(intervalQuiz);

    } else {
      setTimeout(countdown, 6000);
      console.log(intervalQuiz)
    };
  }, 1000) //timing 1s calling

} else {
  document.getElementById("start-btn").value = "Incorrect Password";
  document.getElementById("password").placeholder = "! Please enter correct password";
}

};


function myFocus() {
document.getElementById("start-btn").value = "Start Quiz";
};


const getResult = document.getElementById("getResult");
const checkAnswer = document.getElementById("checkAns");



function checkAnswers() {

index = 0;
removeRightColor();

submitbuttonHide = 1;
disabelTrue = 1;
getResult.classList.remove("getResult-display");
displayques.classList.add("quesDisplayVis");


document.getElementById("submitAtLast").classList.remove("submit-btn-display")

for (var i = 0; i < questions.length; i++) {
  for (var x = 0; x < questions.length; x++) {
    if (index == x) {
      // optionsInput[4].checked = true
      optionsInput[ans[x] || 0].checked = true;
    } else if (index == questions.length) {
      reset()
    }

  }
};

loadQuestion();

optionsInput.forEach((options) => {
  if (options.checked) {
    options.disabled = false;
  } else {
    options.disabled = true;
  }
});


document.getElementById("got-to-result").classList.add("got-to-result-display");
setInterval(changeRightColor, 500);


};

function goToResult() {
removeRightColor();
index = 0;

getResult.classList.add("getResult-display");
displayques.classList.remove("quesDisplayVis");
document.getElementById("got-to-result").classList.remove("got-to-result-display");
document.getElementById("quesBoxh3").innerHTML = ` Thank you for attempt the Quiz .`;



};




const endQuiz = () => {
let wronsansString = wrongAns.join();
displayques.classList.remove("quesDisplayVis");
getResult.classList.add("getResult-display");


document.getElementById("quesBoxh3").innerHTML = `
<span style="font-size:23px;">Thank you for attempt the Quiz .</span>`;

document.getElementById("getResult-box").innerHTML =
  `<h3 style="color:#dec496; padding-left:10px;">  Student Name : <span style="color:#ffffff;">${studentname}</span> <br> Class : <span style="color:#ffffff;">${studentclass}th </span><br><br> Subject : (<span style="color:#ffffff;"> ${subject} </span>) </h3> 
   <h2 class="thanks" style="color:#dec496;  padding-left:10px;"> [ <span style="color:#ffffff;">${right} / ${totle}</span> ] <br>
  ( Are correct answers ) <br> &  <br>( Incorrect answer : <span style="color:#ff0000d6;">${wrong}</span> ) <br><br> Question No: <br>( <span style="display: block;color:#afafaf;width: 100%;overflow: hidden;font-size: 11px;">${wronsansString}</span> ) </h2>`
};



function googleTranslateElementInit() {
new google.translate.TranslateElement({

  pageLanguage: 'none', includedLanguages: 'hi,en,gu,ta,mr,ml,bn,kn,pa'

}, 'google_translate_element');
};


